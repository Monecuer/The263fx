(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520,879],{1850:(e,t,s)=>{"use strict";s.d(t,{N:()=>n});var r=s(5647);let l="https://ixzqlvtiuffayfhyovyd.supabase.co",a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml4enFsdnRpdWZmYXlmaHlvdnlkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIxNDgyNjUsImV4cCI6MjA2NzcyNDI2NX0.Metu_iY82Lgf5di7eQBinXb9JSwBgVMg6p709SkNn5c";if(!l||!a)throw Error("Missing Supabase environment variables.");let n=(0,r.UU)(l,a)},2308:(e,t,s)=>{Promise.resolve().then(s.bind(s,8514))},5695:(e,t,s)=>{"use strict";var r=s(8999);s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},8514:(e,t,s)=>{"use strict";s.d(t,{AuthForm:()=>d});var r=s(5155),l=s(2115),a=s(5695),n=s(1850),i=s(6874),o=s.n(i),u=s(9911);function d(e){let{type:t="login"}=e,s=(0,a.useRouter)(),i="login"===t,[d,c]=(0,l.useState)(""),[h,m]=(0,l.useState)(""),[p,x]=(0,l.useState)(""),[b,g]=(0,l.useState)(null),[f,w]=(0,l.useState)(!1);async function v(e){if(e.preventDefault(),g(null),w(!0),!i&&h!==p){g("Passwords do not match."),w(!1);return}try{if(i){let{error:e}=await n.N.auth.signInWithPassword({email:d,password:h});if(e)g(e.message);else{let e="the263fx@gmail.com"===d.toLowerCase();s.push(e?"/admin-dashboard":"/dashboard")}}else{let{data:e,error:r}=await n.N.auth.signUp({email:d,password:h});if(r)g(r.message);else{var t;let r=null==e||null==(t=e.user)?void 0:t.id;if(r){let{error:e}=await n.N.from("profiles").insert([{id:r,name:d,email:d,goal:"",created_at:new Date}]);e?(console.error("Error saving profile:",e.message),g("Signup succeeded but profile creation failed.")):s.push("/profile-setup")}else g("Signup successful but user ID not found.")}}}catch(e){console.error(e),g("Something went wrong. Please try again.")}finally{w(!1)}}return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-black via-blue-900 to-black px-4 text-white",children:(0,r.jsxs)("div",{className:"relative w-full max-w-md bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl",children:[(0,r.jsx)("div",{className:"absolute -top-6 -left-6 w-24 h-24 bg-blue-500/30 rounded-full blur-2xl animate-pulse"}),(0,r.jsx)("div",{className:"absolute -bottom-6 -right-6 w-20 h-20 bg-purple-500/20 rounded-full blur-2xl animate-ping"}),(0,r.jsx)("h2",{className:"text-3xl font-bold mb-6 text-center",children:i?"Login":"Sign Up"}),b&&(0,r.jsx)("p",{className:"mb-4 text-red-400 text-sm text-center",children:b}),(0,r.jsxs)("form",{onSubmit:v,children:[(0,r.jsxs)("div",{className:"mb-4 flex items-center bg-white/20 p-3 rounded-xl",children:[(0,r.jsx)(u.x$1,{className:"mr-3 text-white"}),(0,r.jsx)("input",{type:"email",value:d,onChange:e=>c(e.target.value),placeholder:"Email",required:!0,className:"bg-transparent border-none outline-none text-white w-full placeholder-white/60"})]}),(0,r.jsxs)("div",{className:"mb-4 flex items-center bg-white/20 p-3 rounded-xl",children:[(0,r.jsx)(u.JhU,{className:"mr-3 text-white"}),(0,r.jsx)("input",{type:"password",value:h,onChange:e=>m(e.target.value),placeholder:"Password",required:!0,className:"bg-transparent border-none outline-none text-white w-full placeholder-white/60"})]}),!i&&(0,r.jsxs)("div",{className:"mb-6 flex items-center bg-white/20 p-3 rounded-xl",children:[(0,r.jsx)(u.JhU,{className:"mr-3 text-white"}),(0,r.jsx)("input",{type:"password",value:p,onChange:e=>x(e.target.value),placeholder:"Confirm Password",required:!0,className:"bg-transparent border-none outline-none text-white w-full placeholder-white/60"})]}),(0,r.jsx)("button",{type:"submit",disabled:f,className:"w-full py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:opacity-90 rounded-xl text-white font-semibold transition",children:f?"Please wait...":i?"Login":"Sign Up"})]}),(0,r.jsx)("p",{className:"mt-5 text-center text-sm text-gray-300",children:i?(0,r.jsxs)(r.Fragment,{children:["Donâ€™t have an account?"," ",(0,r.jsx)(o(),{href:"/signup",className:"text-blue-400 hover:underline",children:"Sign Up"})]}):(0,r.jsxs)(r.Fragment,{children:["Already have an account?"," ",(0,r.jsx)(o(),{href:"/login",className:"text-blue-400 hover:underline",children:"Login"})]})})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[711,134,647,995,441,684,358],()=>t(2308)),_N_E=e.O()}]);